(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[866],{87843:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/token/[pid]",function(){return t(68822)}])},94194:function(e,n){"use strict";n.Z={src:"/_next/static/media/await.8d815671.gif",height:192,width:192}},68822:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return v}});var r=t(34051),a=t.n(r),i=t(85893),s=t(65988),o=t.n(s),c=t(67294),l=t(25675),d=t(81043),u=t(75989),m=t(3283),f=t.n(m),b=t(94194);function p(e,n,t,r,a,i,s){try{var o=e[i](s),c=o.value}catch(l){return void t(l)}o.done?n(c):Promise.resolve(c).then(r,a)}function g(e){return function(){var n=this,t=arguments;return new Promise((function(r,a){var i=e.apply(n,t);function s(e){p(i,r,a,s,o,"next",e)}function o(e){p(i,r,a,s,o,"throw",e)}s(void 0)}))}}function h(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function y(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){h(e,n,t[n])}))}return e}t(9669);var x=t(53908),_=t(31692),w="0x2265C9ea6E9C593734e04b839B5f8a72a6427FeE",j="https://myoasisserver.herokuapp.com/api/transactions";function v(){var e=(0,d.v9)(u.sz),n=(0,c.useState)(),t=n[0],r=n[1],s=(0,c.useState)(),m=s[0],p=s[1],h=(0,c.useState)([]),v=h[0],k=h[1];(0,c.useEffect)((function(){function e(){return(e=g(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fetch(j,{method:"get",headers:{authorization:localStorage.getItem("jwt")}}).then((function(e){return e.json()})).then((function(e){console.log(e),k(e)})).then((function(e){return console.log(e)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),(0,c.useEffect)((function(){function n(){return(n=g(a().mark((function n(){var t,i,s;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t=window.location.href,i=t.lastIndexOf("/"),s=Number(t.substr(i+1,1e3)),p(s),setTimeout((function(){function n(){return(n=g(a().mark((function n(){var t,i;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,F.methods.ownerOf(s).call();case 2:return t=n.sent,P(t),r(t===e),n.next=7,F.methods.tokenURI(s).call();case 7:i=n.sent,fetch("https://ipfs.io/ipfs/".concat(i),{method:"get"}).then((function(e){return e.json()})).then((function(e){return E((function(n){return y({},n,e)}))}));case 9:case"end":return n.stop()}}),n)})))).apply(this,arguments)}!function(){n.apply(this,arguments)}()}),100);case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}!function(){n.apply(this,arguments)}()}),[]);var N=new(f())(f().givenProvider),O=(0,c.useState)(),S=O[0],E=O[1],T=(0,c.useState)(),C=T[0],P=T[1],F=new N.eth.Contract(x.abi,w),I=(0,c.useState)("Owner"),R=I[0],H=I[1],z=(0,c.useState)(),A=z[0],B=z[1],X=(0,c.useState)(""),Z=X[0],q=X[1];function D(){return(D=g(a().mark((function n(){var t,r,i,s;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=window.location.href,r=t.lastIndexOf("/"),i=Number(t.substr(r+1,1e3)),n.next=5,new _(x.abi,w);case 5:return window.contract=n.sent,s={to:w,from:window.ethereum.selectedAddress,data:window.contract.methods.safeTransferFrom(e,A,i).encodeABI()},n.prev=7,n.next=10,window.ethereum.request({method:"eth_sendTransaction",params:[s]});case 10:return n.sent,n.abrupt("return",{success:q("Transfer success"),status:console.log("\u2705 transaction success")});case 14:return n.prev=14,n.t0=n.catch(7),n.abrupt("return",{success:q("Transfer error"),status:console.log("\ud83d\ude25 Something went wrong: "+n.t0.message)});case 17:case"end":return n.stop()}}),n,null,[[7,14]])})))).apply(this,arguments)}return(0,i.jsx)("div",{className:"token__main__block",children:S?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:o().dynamic([["71805ffb8d891037",[R,S.image,A?"rgb(0, 102, 255)":"rgb(230, 230, 230)"]]])+" image__block",children:S.image.match("video")?(0,i.jsx)("video",{width:"600",height:"700",loop:!0,autoPlay:!0,mute:!0,src:S.image,type:"video/mp4",className:o().dynamic([["71805ffb8d891037",[R,S.image,A?"rgb(0, 102, 255)":"rgb(230, 230, 230)"]]])+" video"}):S.image.match("audio")?(0,i.jsx)("audio",{controls:!0,loop:!0,type:"audio/mpeg",src:S.image,className:o().dynamic([["71805ffb8d891037",[R,S.image,A?"rgb(0, 102, 255)":"rgb(230, 230, 230)"]]])+" audio"}):(0,i.jsx)("div",{className:o().dynamic([["71805ffb8d891037",[R,S.image,A?"rgb(0, 102, 255)":"rgb(230, 230, 230)"]]])+" center_block"})}),(0,i.jsxs)("div",{className:o().dynamic([["71805ffb8d891037",[R,S.image,A?"rgb(0, 102, 255)":"rgb(230, 230, 230)"]]])+" title__block",children:[(0,i.jsx)("h1",{className:o().dynamic([["71805ffb8d891037",[R,S.image,A?"rgb(0, 102, 255)":"rgb(230, 230, 230)"]]]),children:S.name}),(0,i.jsx)("h4",{className:o().dynamic([["71805ffb8d891037",[R,S.image,A?"rgb(0, 102, 255)":"rgb(230, 230, 230)"]]]),children:S.description}),(0,i.jsxs)("h3",{className:o().dynamic([["71805ffb8d891037",[R,S.image,A?"rgb(0, 102, 255)":"rgb(230, 230, 230)"]]]),children:["Token Id: ",m]}),(0,i.jsxs)("p",{className:o().dynamic([["71805ffb8d891037",[R,S.image,A?"rgb(0, 102, 255)":"rgb(230, 230, 230)"]]])+" menu",children:[(0,i.jsx)("span",{onClick:function(){return H("Owner")},className:o().dynamic([["71805ffb8d891037",[R,S.image,A?"rgb(0, 102, 255)":"rgb(230, 230, 230)"]]])+" Owner",children:"Owner"}),(0,i.jsx)("span",{onClick:function(){return H("History")},className:o().dynamic([["71805ffb8d891037",[R,S.image,A?"rgb(0, 102, 255)":"rgb(230, 230, 230)"]]])+" History",children:"History"})]}),(0,i.jsx)("h3",{className:o().dynamic([["71805ffb8d891037",[R,S.image,A?"rgb(0, 102, 255)":"rgb(230, 230, 230)"]]]),children:"Owner"===R?C:" "}),"History"===R&&(0,i.jsx)(i.Fragment,{children:v.filter((function(e){return+e.tokenid===m})).map((function(e){return(0,i.jsx)("h3",{className:o().dynamic([["71805ffb8d891037",[R,S.image,A?"rgb(0, 102, 255)":"rgb(230, 230, 230)"]]]),children:e.newuser},e.newuser)}))}),t&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("label",{className:o().dynamic([["71805ffb8d891037",[R,S.image,A?"rgb(0, 102, 255)":"rgb(230, 230, 230)"]]])+" price",children:(0,i.jsx)("input",{type:"text",placeholder:"enter account data",value:A,onChange:function(e){return B(e.target.value)},className:o().dynamic([["71805ffb8d891037",[R,S.image,A?"rgb(0, 102, 255)":"rgb(230, 230, 230)"]]])})}),(0,i.jsx)("button",{disabled:!A,onClick:function(){return D.apply(this,arguments)},className:o().dynamic([["71805ffb8d891037",[R,S.image,A?"rgb(0, 102, 255)":"rgb(230, 230, 230)"]]])+" "+((A?"create_item":"create_item disabled")||""),children:"TRANSFER THIS NFT"})]}),(0,i.jsx)("h3",{className:o().dynamic([["71805ffb8d891037",[R,S.image,A?"rgb(0, 102, 255)":"rgb(230, 230, 230)"]]]),children:Z})]}),(0,i.jsx)(o(),{id:"71805ffb8d891037",dynamic:[R,S.image,A?"rgb(0, 102, 255)":"rgb(230, 230, 230)"],children:'.video.__jsx-style-dynamic-selector{display:block;\nmargin:0 auto;\nborder-radius:15px}\n.audio.__jsx-style-dynamic-selector{margin:20% auto;\ndisplay:block}\n.creator.__jsx-style-dynamic-selector{display:inline-block;\nwidth:45%;\nmargin-top:30px;\nposition:relative;\npadding:15px 0}\n.creator.__jsx-style-dynamic-selector:before{content:"Creator";\nposition:absolute;\ntop:-20px;\nfont: 500 20px/20px Roboto, sans-serif}\n.menu.__jsx-style-dynamic-selector{font: 500 20px/60px Roboto, sans-serif;\nborder-bottom:1px solid #bbb;\ncolor:gray;\ncursor:pointer}\n.'.concat(R,".__jsx-style-dynamic-selector{color:#000;\npadding-bottom:17.2px;\nborder-bottom:3px solid #000}\n.menu.__jsx-style-dynamic-selector span.__jsx-style-dynamic-selector{margin-right:30px}\n.menu.__jsx-style-dynamic-selector span.__jsx-style-dynamic-selector:hover{color:#000}\n.image__block.__jsx-style-dynamic-selector{display:inline-block;\nwidth:60%;\nheight:60vh;\npadding:0}\n.active.__jsx-style-dynamic-selector{color:black}\n.center_block.__jsx-style-dynamic-selector{width:auto;\ntext-align:center;\nposition:relative;\nheight:60vh;\nmargin:50px auto;\nbackground-size:auto 70%;\nbackground-repeat:no-repeat;\nbackground-position:center 40%;\nbackground-image:url(").concat(S.image,")}\n.title__block.__jsx-style-dynamic-selector{display:inline-block;\nwidth:35%;\nvertical-align:top}\n.price.__jsx-style-dynamic-selector{font: 700 18px/18px Roboto, sans-serif;\nmargin:30px 0 10px;\ndisplay:block}\n.price.__jsx-style-dynamic-selector input.__jsx-style-dynamic-selector{border:none;\nwidth:100%;\nborder-bottom:2px solid rgba(4, 4, 5, 0.1);\npadding:15px 0 5px;\noutline:none;\ncolor:rgba(4, 4, 5, 0.5);\nfont: 500 18px/32px Roboto, sans-serif}\n.create_item.__jsx-style-dynamic-selector{padding:18px;\nwidth:40%;\nborder:none;\nfont-weight:700;\nborder-radius:50px;\nbackground-color:#fff;\nmargin:10px 0;\ncolor:#fff;\nbackground:").concat(A?"rgb(0, 102, 255)":"rgb(230, 230, 230)",";\ndisplay:inline-block}")})]}):(0,i.jsxs)("h1",{style:{margin:"40vh auto",width:150},children:[(0,i.jsx)(l.default,{src:b.Z,width:100,height:100,alt:"await"})," "]})})}}},function(e){e.O(0,[669,908,774,888,179],(function(){return n=87843,e(e.s=n);var n}));var n=e.O();_N_E=n}]);