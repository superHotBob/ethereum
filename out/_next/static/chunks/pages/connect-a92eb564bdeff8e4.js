(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[784],{95213:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/connect",function(){return t(42205)}])},42205:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return k}});var o=t(34051),r=t.n(o),c=t(85893),s=t(65988),a=t.n(s),i=t(41664),u=t(67294),f=t(11163),l=t(3283),d=t.n(l),p=t(25675),m={src:"/_next/static/media/metamask.ed80d940.svg",height:22,width:22},h=t(81043),x=t(75989),g=t(17664);function _(n,e,t,o,r,c,s){try{var a=n[c](s),i=a.value}catch(u){return void t(u)}a.done?e(i):Promise.resolve(i).then(o,r)}function y(n){return function(){var e=this,t=arguments;return new Promise((function(o,r){var c=n.apply(e,t);function s(n){_(c,o,r,s,a,"next",n)}function a(n){_(c,o,r,s,a,"throw",n)}s(void 0)}))}}var b=t(9669);function k(){var n=function(n){b.post("http://localhost:5000/api/tokens",{tokens:n}).then((function(n){console.log(n),console.log(n.data)}))},e=(0,f.useRouter)(),t=(0,h.I0)(),o=(0,u.useState)(!1),s=o[0],l=(o[1],(0,u.useState)(!1)),_=l[0],k=l[1],w=(0,u.useState)("You are connected to an unsupported network"),j=w[0],v=(w[1],(0,g.ZP)()),N=v.connect,P=v.account,E=new(d())(d().givenProvider);function z(){return(z=y(r().mark((function n(){return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,E.eth.getAccounts().then((function(n){n[0]>0&&(E.eth.getBalance(n[0]).then((function(n){t((0,x.op)(n/1e18))})),t((0,x.nP)()),t((0,x.jF)(n[0])),localStorage.setItem("account",n[0]),e.push("/"))}));case 2:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function S(){return(S=y(r().mark((function o(){return r().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,E.eth.getAccounts().then((function(o){o[0]>0?(E.eth.getBalance(o[0]).then((function(n){t((0,x.op)(n/1e18))})),t((0,x.nP)()),t((0,x.jF)(o[0])),localStorage.setItem("account",o[0]),n(o[0]),e.push("/")):(console.log("error account"),N())}));case 2:case"end":return o.stop()}}),o)})))).apply(this,arguments)}return(0,u.useEffect)((function(){(function(){var n=y(r().mark((function n(){return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,E.eth.getChainId();case 2:42261!==n.sent&&k(!0);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}})()()}),[]),(0,u.useEffect)((function(){return function(){return z.apply(this,arguments)}()}),[P]),(0,c.jsxs)("div",{className:a().dynamic([["6130f7f92fea6de6",[m.src,m.scr]]])+" connect_main",children:[(0,c.jsx)(i.default,{href:"/",children:(0,c.jsx)("a",{className:a().dynamic([["6130f7f92fea6de6",[m.src,m.scr]]])+" link__mainPage",children:"Home page"})}),s?(0,c.jsx)("button",{className:a().dynamic([["6130f7f92fea6de6",[m.src,m.scr]]])+" without_metamask",children:"Create Metamask Wallet"}):(0,c.jsx)("button",{onClick:function(){return function(){return S.apply(this,arguments)}()},className:a().dynamic([["6130f7f92fea6de6",[m.src,m.scr]]])+" metamask",children:"Sign in with Metamask"}),(0,c.jsx)("p",{className:a().dynamic([["6130f7f92fea6de6",[m.src,m.scr]]]),children:"We do not own your private keys and cannot access your profile funds without your confirmation."}),_&&(0,c.jsxs)("div",{className:a().dynamic([["6130f7f92fea6de6",[m.src,m.scr]]])+" message_error",children:[(0,c.jsx)(i.default,{href:"/",passHref:!0,children:(0,c.jsx)("b",{className:a().dynamic([["6130f7f92fea6de6",[m.src,m.scr]]])+" close",children:(0,c.jsx)(p.default,{alt:"close",src:"/static/Icon_close.png",width:20,height:20})})}),(0,c.jsx)("p",{className:a().dynamic([["6130f7f92fea6de6",[m.src,m.scr]]]),children:j})]}),(0,c.jsx)(a(),{id:"6130f7f92fea6de6",dynamic:[m.src,m.scr],children:".connect_main.__jsx-style-dynamic-selector{background-color:#fff;\nwidth:100%;\nheight:100vh;\nz-index:100;\nposition:absolute;\npadding-left:35%;\npadding-top:20%}\n.link__mainPage.__jsx-style-dynamic-selector{position:absolute;\nfont-size:20px;\ntop:30px;\nleft:40px;\nfont-weight:700;\npadding:0 20px;\nfont-family:Roboto, sans-serif}\n.message_error.__jsx-style-dynamic-selector{position:absolute;\ntop:20%;\nleft:30%;\nheight:500px;\nwidth:40%;\npadding:10px;\nbackground:#fff;\nborder-radius:15px;\nbox-shadow:0px 0px 15px 0px #9c9c9c}\n.message_error.__jsx-style-dynamic-selector p.__jsx-style-dynamic-selector{text-align:center;\nfont-size:40px;\ncolor:red;\nwidth:100%;\nmargin-top:200px}\nh1.__jsx-style-dynamic-selector{margin-top:20vh;\nfont: 700 55px/70px Roboto, sans-serif}\np.__jsx-style-dynamic-selector{width:30%;\nmargin-top:30px}\n.metamask.__jsx-style-dynamic-selector{background-image:url(".concat(m.src,");\nbackground-repeat:no-repeat;\nbackground-position:5% center;\nbackground-size:8%;\nbackground-color:rgb(0, 102, 255);\ncolor:#fff}\n.metamask.__jsx-style-dynamic-selector:hover{background-color:rgba(0, 102, 255, 0.8)}\n.without_metamask.__jsx-style-dynamic-selector{background-image:url(").concat(m.scr,");\nbackground-repeat:no-repeat;\nbackground-position:5% center;\nbackground-size:8%;\ncolor:#000}\nbutton.__jsx-style-dynamic-selector{width:45%;\nheight:80px;\ntext-align:center;\nborder:1px solid #ccc;\nborder-radius:56px;\ncursor:pointer;\ndisplay:block;\nmargin-top:30px;\nbackground:#fff;\nfont: 700 20px/80px Roboto, sans-serif}\nbutton.__jsx-style-dynamic-selector:active{-webkit-transform:scale(0.98);\n-moz-transform:scale(0.98);\n-ms-transform:scale(0.98);\ntransform:scale(0.98);\nbox-shadow:3px 2px 22px 1px rgba(0, 0, 0, 0.24)}\nspan.__jsx-style-dynamic-selector{font: 500 30px/40px Roboto, sans-serif;\ncolor:#bbb;\ndisplay:inline-block;\nwidth:50%;\nmargin:0 auto}")})]})}}},function(n){n.O(0,[669,774,888,179],(function(){return e=95213,n(n.s=e);var e}));var e=n.O();_N_E=e}]);